<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watermark Print</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-KyZXEAg3QhqLMpG8r+J2Wk5vqXn3Fm/z2N1r8f6VZJ4T3Hdvh4kXG1j4fZ6IsU2f5" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script type="text/javascript" src="JavaScript.js"></script>

</head>
<body>
    <div class="mb-3 mt-5 text-center">
        <button id="btnPrint" type="button" onclick="printDiv('divPrint', 'img');" class="button btn btn-primary col-sm-2">Print</button>
    </div>
    <div id="divPrint" class="card-body col-md-10 p-2 m-auto mt-5 m">
        <div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ducimus deserunt similique numquam dolorem inventore voluptas! Expedita nostrum aut natus aspernatur numquam recusandae voluptate rem excepturi necessitatibus voluptatem id, corrupti quasi ullam quos, totam tempora quod iure unde. Assumenda eos obcaecati, architecto, quod dolorem atque, cupiditate fugit libero dolorum ut hic?
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Distinctio in voluptate voluptas laboriosam voluptatem minus, hic inventore autem sit, odio rem praesentium corrupti beatae qui commodi temporibus nulla dolore magnam eligendi? Dicta unde cumque laudantium fuga hic eius accusantium. Vitae velit, dolor reiciendis nulla natus officiis sunt sapiente! Amet, quae!
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere voluptatibus consequuntur sint expedita laborum impedit dolore, sunt facilis! Voluptatem at ipsam obcaecati accusantium nesciunt dicta tempora impedit? Magnam dolores consequatur fugiat nemo, soluta voluptates, saepe nobis placeat beatae, quae eum laboriosam ipsa atque unde quaerat dignissimos eveniet laborum tempora doloremque quas. Dolor a laudantium possimus culpa commodi quia ipsa veniam!
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio quos voluptate praesentium corrupti natus quas quis eos deserunt ex, ut ad. Consequuntur hic incidunt vel porro tempora atque perspiciatis sed, dicta esse at placeat excepturi laboriosam necessitatibus et sint reiciendis error, magni nulla non eos neque laborum blanditiis officiis! Incidunt cumque voluptatem a? Deleniti aliquam architecto, ad suscipit necessitatibus doloribus.
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate laborum optio deserunt corporis error! Perferendis consequatur ipsa molestiae dolor architecto, necessitatibus sint totam esse nesciunt, quisquam, at odit vero recusandae laudantium? Tempore, laboriosam facere? Rem delectus aspernatur nostrum fugit itaque ut, ducimus porro voluptate omnis dolor explicabo quod qui voluptatibus.
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis, sit, voluptas debitis rem distinctio iure sequi magnam numquam laboriosam officiis quidem repellat dignissimos placeat quis! Eius maiores deserunt sequi asperiores perspiciatis sapiente dolore blanditiis tenetur. Minus quasi laudantium totam consequatur sapiente. Iusto quo dolorem autem aliquid vero aperiam. Quas, qui.
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum, impedit recusandae ipsam voluptates voluptatum quibusdam minus accusamus animi officiis iure illo, sequi sint omnis et nesciunt modi quae? Neque cumque eligendi deleniti excepturi pariatur cupiditate blanditiis. Asperiores magni, totam fuga amet cum enim quo. Debitis molestiae molestias non error aut dicta impedit maiores? Repellat similique, facilis nihil temporibus magnam nostrum!
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Maiores eveniet doloremque qui, culpa ut molestias unde architecto eum enim vitae itaque perspiciatis corrupti minus nisi commodi atque iste earum? Asperiores dolorum est molestiae dolores veritatis, velit distinctio nesciunt placeat explicabo facilis blanditiis architecto dolor quos enim suscipit culpa laboriosam odit. Voluptas iste qui inventore blanditiis excepturi maxime quibusdam labore perferendis!
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat facilis sint maiores, voluptatibus, sed nihil soluta adipisci ipsam nemo magni qui nam commodi nobis quisquam pariatur ipsa, provident mollitia iure minima dolor veniam sit. Quaerat quos vero, maiores, dolorem vel tempora iste nesciunt dolor nisi illo similique modi culpa porro placeat eos mollitia cupiditate cumque delectus voluptate, excepturi itaque! Quis, aliquam autem. Vero, adipisci molestiae in blanditiis labore officia repudiandae?
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum in voluptas reprehenderit vel voluptate expedita numquam recusandae distinctio eligendi facilis deserunt labore necessitatibus enim dicta aut asperiores laudantium nihil, natus quibusdam est porro maxime magni debitis qui. Cupiditate repudiandae deleniti debitis consequuntur rem, officia perspiciatis nesciunt itaque et autem dolores sequi minima! Consequuntur quasi non deserunt. Eos iure, reiciendis, impedit voluptate amet quibusdam consequuntur quaerat facere consectetur illo est quae fugiat officia ducimus adipisci quis dolorum repellendus sint! Officiis corporis dolor ea ipsa. Temporibus asperiores cum odio eos quam consequatur?
            </div>
            <div class="border mb-4 p-2 shadow rounded-3">
                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Maiores eveniet doloremque qui, culpa ut molestias unde architecto eum enim vitae itaque perspiciatis corrupti minus nisi commodi atque iste earum? Asperiores dolorum est molestiae dolores veritatis, velit distinctio nesciunt placeat explicabo facilis blanditiis architecto dolor quos enim suscipit culpa laboriosam odit. Voluptas iste qui inventore blanditiis excepturi maxime quibusdam labore perferendis!
            </div>
        </div>
    </div>

    <script>
        // Dynamically create styles for watermark
        var style = document.createElement('style');
        style.type = 'text/css';
        style.innerHTML = `
            @media print {
                body {
                    size: A4;
                    margin: 0;
                }
                .border {
                    page: border;
                    box-shadow: none;
                    break-inside: avoid;
                }
                .watermark-container {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100vw;
                    height: 100vh;
                    pointer-events: none;
                    z-index: -9;
                }
                .watermark {
                    content: 'MillStack Watermark';
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%) rotate(-45deg);
                    font-size: 50px;
                    text-align: center;
                    color: rgba(0, 0, 0, 0.02);
                }
                .watermark-img {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%) rotate(0deg);
                    width: 150px;
                    height: auto;
                    opacity: 0.02;
                }
            }
        `;
        document.head.appendChild(style);

        // printDiv function on onClick event
        function printDiv(divId, watermarkType) {
            var printContents = document.getElementById(divId).outerHTML;
            var originalContents = document.body.innerHTML;

            // Replace the current content with the content of the specified div
            document.body.innerHTML = printContents;

            if (watermarkType === 'text'){

                // Create a watermark container
                var watermarkContainer = document.createElement('div');
                watermarkContainer.className = 'watermark-container';

                // Create the watermark element as TEXT
                var watermarkDIV = document.createElement('div');
                watermarkDIV.className = 'watermark';
                watermarkDIV.innerText = 'MillStack Watermark';

                // Append the watermark to the container
                watermarkContainer.appendChild(watermarkDIV);

                // Append the container to each printed page
                var pages = document.querySelectorAll('.border'); // Assuming each .border is a page
                pages.forEach(function(page) {
                    page.appendChild(watermarkContainer.cloneNode(true));
                });

                // Trigger the print function
                window.print();

                // Restore the original content after printing
                document.body.innerHTML = originalContents;
            }
            else if (watermarkType === 'img'){

                // Create a watermark container
                var watermarkContainer = document.createElement('div');
                watermarkContainer.className = 'watermark-container';

                // Create the watermark element as IMAGE
                var watermarkImg = document.createElement('img');
                watermarkImg.src = 'https://seeklogo.com/images/I/indian-government-logo-1C3F1925AA-seeklogo.com.png';

                // Apply the class to the image element
                watermarkImg.className = 'watermark-img';

                watermarkImg.onload = function(){

                    // Append the watermark to the container
                    watermarkContainer.appendChild(watermarkImg);

                    // Append the container to each printed page
                    var pages = document.querySelectorAll('.border'); // Assuming each .border is a page
                    pages.forEach(function(page) {
                        page.appendChild(watermarkContainer.cloneNode(true));
                    });

                    // Trigger the print function
                    window.print();

                    // Restore the original content after printing
                    document.body.innerHTML = originalContents;
                }
            }
        }
    </script>
</body>
</html>